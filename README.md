<div align="center">

![:name](https://count.getloli.com/@astrbot_plugin_music?name=astrbot_plugin_music&theme=minecraft&padding=6&offset=0&align=top&scale=1&pixelated=1&darkmode=auto)

# astrbot_plugin_music

_ğŸµ é«˜æ€§èƒ½å¤šå¹³å°ç‚¹æ­Œæ’ä»¶ ğŸµ_

[![License](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)
[![Python 3.10+](https://img.shields.io/badge/Python-3.10%2B-blue.svg)](https://www.python.org/)
[![AstrBot](https://img.shields.io/badge/AstrBot-3.4%2B-orange.svg)](https://github.com/Soulter/AstrBot)
[![GitHub](https://img.shields.io/badge/ä½œè€…-Zhalslar-blue)](https://github.com/Zhalslar)

</div>

---

## ğŸ¤ æ’ä»¶ä»‹ç»

`astrbot_plugin_music` æ˜¯ä¸€ä¸ª **é«˜å†…èšã€ä½è€¦åˆã€å¯æ‰©å±•** çš„ç‚¹æ­Œæ’ä»¶ï¼Œæ ¸å¿ƒç‰¹æ€§å¦‚ä¸‹ï¼š

- ğŸ§ å¤šå¹³å°ç»Ÿä¸€æŠ½è±¡ï¼ˆBaseMusicPlayerï¼‰
- ğŸ” å¤šå‘é€æ–¹å¼è‡ªåŠ¨é™çº§
- ğŸ“ƒ æ–‡æœ¬ / å›¾ç‰‡ / å•æ›² ä¸‰ç§é€‰æ­Œæ¨¡å¼
- ğŸ’¬ æ”¯æŒæ­Œè¯ã€çƒ­è¯„ã€å¡ç‰‡ã€è¯­éŸ³ã€æ–‡ä»¶
- ğŸ“‚ ç”¨æˆ·ç‹¬ç«‹æ­Œå•ï¼ˆæœ¬åœ°æŒä¹…åŒ–ï¼‰
- ğŸ¤– æ”¯æŒ LLM Tool è‡ªåŠ¨ç‚¹æ­Œ
- ğŸš« æ— éœ€ VIPï¼Œä¸ç»‘å®šå•ä¸€å¹³å°

---

## ğŸ“¦ å®‰è£…

åœ¨ AstrBot æ’ä»¶å¸‚åœºæœç´¢ **astrbot_plugin_music**ï¼Œç‚¹å‡»å®‰è£…å¹¶å¯ç”¨ã€‚

---

## âš™ï¸ é…ç½®è¯´æ˜

è¯·å‰å¾€ **AstrBot æ’ä»¶é…ç½®é¢æ¿**è¿›è¡Œè®¾ç½®ã€‚

### ğŸ¼ é»˜è®¤ç‚¹æ­Œå¹³å°

**default_player_name**

- å®šä¹‰ `ç‚¹æ­Œ` å‘½ä»¤é»˜è®¤ä½¿ç”¨çš„å¹³å°
- æ‰€æœ‰å¹³å°å‡å¯é€šè¿‡å‘½ä»¤æ˜¾å¼è°ƒç”¨

æ”¯æŒå¹³å°ï¼ˆéƒ¨åˆ†ï¼‰ï¼š

- ç½‘æ˜“ç‚¹æ­Œ / njç‚¹æ­Œï¼ˆNodeJSï¼‰
- QQ ç‚¹æ­Œ
- é…·ç‹— / é…·æˆ‘
- ç™¾åº¦ / å’ªå’•
- è”æ / èœ»èœ“ / å–œé©¬æ‹‰é›…
- 5sing åŸåˆ› / ç¿»å”±
- å…¨æ°‘ K æ­Œ

---

### ğŸ” æœç´¢ä¸é€‰æ‹©

**song_limit**

- æœç´¢è¿”å›æ­Œæ›²æ•°é‡
- å½“é€‰æ‹©æ¨¡å¼ä¸º `single` æ—¶å¼ºåˆ¶ä¸º 1

**select_mode**

| æ¨¡å¼ | è¡Œä¸º |
|----|----|
| text | æ–‡æœ¬åˆ—è¡¨ï¼Œç­‰å¾…è¾“å…¥åºå· |
| single | è‡ªåŠ¨é€‰ä¸­ç¬¬ä¸€é¦– |

---

### ğŸ“¤ å‘é€ç­–ç•¥ï¼ˆæ ¸å¿ƒï¼‰

**send_modes**

å®šä¹‰æ­Œæ›²å‘é€æ–¹å¼çš„ä¼˜å…ˆçº§ï¼Œå¤±è´¥è‡ªåŠ¨é™çº§ï¼š

1. cardï¼ˆå¡ç‰‡ï¼Œä»… QQ + ç½‘æ˜“äº‘ï¼‰
2. recordï¼ˆè¯­éŸ³ï¼‰
3. fileï¼ˆæ–‡ä»¶ï¼‰
4. textï¼ˆæ–‡æœ¬é“¾æ¥ï¼‰

> æ’åœ¨å‰é¢çš„æ–¹å¼ä¼˜å…ˆï¼Œå‘é€å¤±è´¥å°†è‡ªåŠ¨å°è¯•ä¸‹ä¸€ç§ã€‚

---

### ğŸ§© é™„åŠ åŠŸèƒ½

| é…ç½®é¡¹ | è¯´æ˜ |
|----|----|
| enable_comments | å‘é€åé™„åŠ çƒ­è¯„ |
| enable_lyrics | å‘é€æ­Œè¯å›¾ç‰‡ |
| timeout | é€‰æ­Œç­‰å¾…è¶…æ—¶ï¼ˆç§’ï¼‰ |
| clear_cache | é‡è½½æ’ä»¶æ—¶æ¸…ç©ºç¼“å­˜ |
| proxy | ç½‘ç»œä»£ç†åœ°å€ |

---

## âŒ¨ï¸ ä½¿ç”¨è¯´æ˜

### ğŸ¶ ç‚¹æ­Œ

| å‘½ä»¤ | è¯´æ˜ |
|----|----|
| ç‚¹æ­Œ `<æ­Œå>` | ä½¿ç”¨é»˜è®¤å¹³å°ç‚¹æ­Œ |
| `<å¹³å°å>ç‚¹æ­Œ <æ­Œå>` | æŒ‡å®šå¹³å°ç‚¹æ­Œ |
| ç‚¹æ­Œ `<æ­Œå> <åºå·>` | ç›´æ¥é€‰æ‹©æœç´¢ç»“æœ |
| æŸ¥æ­Œè¯ `<æ­Œå>` | æŸ¥è¯¢å¹¶å‘é€æ­Œè¯ |

---

### ğŸ“‚ æ­Œå•åŠŸèƒ½

| å‘½ä»¤ | è¯´æ˜ |
|----|----|
| æ­Œå•æ”¶è— `<æ­Œå>` | æ”¶è—æ­Œæ›² |
| æ­Œå•å–è— `<æ­Œå>` | å–æ¶ˆæ”¶è— |
| æ­Œå•åˆ—è¡¨ | æŸ¥çœ‹ä¸ªäººæ­Œå• |
| æ­Œå•ç‚¹æ­Œ `<åºå·>` | æ’­æ”¾æ­Œå•æ­Œæ›² |

- æ­Œå•æŒ‰ç”¨æˆ·ç‹¬ç«‹å­˜å‚¨
- é»˜è®¤æœ€å¤š 50 é¦–

---

### ğŸ¤– AI ç‚¹æ­Œï¼ˆLLM Toolï¼‰

æ’ä»¶æä¾› LLM Toolï¼š

å½“ç”¨æˆ·è¡¨è¾¾â€œæƒ³å¬æŸé¦–æ­Œâ€æ—¶å¯è‡ªåŠ¨è°ƒç”¨æ’­æ”¾ã€‚

---

## ç½‘æ˜“äº‘Nodejsæ¨¡å—è¯´æ˜

> é€šè¿‡ç½‘æ˜“äº‘Nodejsé¡¹ç›®ï¼Œä½¿ç”¨äº’è”ç½‘ä¸Šå…¬å¼€çš„é¡¹ç›®èµ„æº æˆ– è‡ªå·±éƒ¨ç½²é¡¹ç›® æ¥è·å¾—ç¨³å®šçš„ç½‘æ˜“äº‘éŸ³æº

>é¡¹ç›®åœ°å€ï¼š[ç½‘æ˜“äº‘Nodejsé¡¹ç›®å®˜ç½‘](https://neteasecloudmusicapi.js.org/#/)

- é€šè¿‡å…¬å¼€çš„é¡¹ç›®è·å–éŸ³æº

  å¦‚æœä½ ä¸æƒ³æ­å»ºæœåŠ¡å™¨ï¼Œåˆä¸èƒ½ä½¿ç”¨é»˜è®¤çš„æœåŠ¡ï¼Œå¯ä»¥åœ¨äº’è”ç½‘ä¸Šæœç´¢`allinurl:eapi_decrypt.html`æ¥å¯»æ‰¾å…¬å¼€é¡¹ç›®çš„åŸŸåã€‚ä¸‹é¢è´´ä¸€äº›æœé›†çš„å…¬å¼€urlã€‚

  ```text
  https://163api.qijieya.cn
  https://zm.armoe.cn
  http://dg-t.cn:3000
  http://111.229.38.178:3333
  https://wyy.xhily.com/
  http://45.152.64.114:3005
  http://42.193.244.179:3000
  https://music-api.focalors.ltd
  ```

  ä¸¾ä¾‹ï¼šæ’ä»¶çš„`nodejs_base_url`å‚æ•°è®¾ç½®ä¸º`https://163api.qijieya.cn`ï¼Œ`enable_players`ä¸­å°†`ç½‘æ˜“äº‘NodeJSç‰ˆ`æ‰“å‹¾å¹¶è°ƒè‡³ç¬¬ä¸€ä½ï¼Œå³å¯å®Œæˆé…ç½®ã€‚å¯ä»¥å¤šå°è¯•å‡ ä¸ªåŸŸåæ¥å¯»æ‰¾ç¨³å®šéŸ³æºã€‚
- éƒ¨ç½²è‡ªå·±çš„é¡¹ç›®

  é€šè¿‡å®˜ç½‘ä»‹ç»éƒ¨ç½²é¡¹ç›®ï¼Œè·å¾—ç¨³å®šéŸ³æºã€‚è¿™é‡Œä»‹ç»docker composeå¿«é€Ÿéƒ¨ç½²ã€‚

  ä¿®æ”¹`astrbot.yml`æ–‡ä»¶ï¼Œæ·»åŠ æœåŠ¡

  ```yaml
    netease_cloud_music_api:
      image: binaryify/netease_cloud_music_api
      container_name: netease_cloud_music_api
      environment:
        - http_proxy=
        - https_proxy=
        - no_proxy=
        - HTTP_PROXY=
        - HTTPS_PROXY=
        - NO_PROXY=
      networks:
        - astrbot_network
      # ports:
      #   - "3000:3000" å¯ä»¥é€šè¿‡å…¬å…±ç«¯å£æ¥è°ƒè¯•
  ```

  ç„¶ååœ¨`astrbot.yml`æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•è¿è¡Œå‘½ä»¤å¯åŠ¨æœåŠ¡ï¼š

  ```cmd
  docker compose -f astrbot.yml up -d netease_cloud_music_api
  ```

  å¦‚æœä½ å¼€æ”¾äº†ä¸Šé¢çš„è°ƒè¯•ç«¯å£ï¼Œå¯ä»¥é€šè¿‡`{ä¸»æœºå}:3000`è®¿é—®ç¤ºä¾‹é¡µé¢

  å°†å‚æ•°`enable_players`ä¸­å°†`ç½‘æ˜“äº‘NodeJSç‰ˆ`æ‰“å‹¾å¹¶è°ƒè‡³ç¬¬ä¸€ä½ï¼Œå³å¯å®Œæˆé…ç½®ã€‚

  è¿™é‡Œçš„ç«¯å£å·3000å¯ä»¥ä¿®æ”¹æˆå…¶ä»–ç«¯å£ï¼Œå…·ä½“è§ Nodejsé¡¹ç›® æ–‡æ¡£ã€‚

## ğŸ‘¥ è´¡çŒ®æŒ‡å—

- ğŸŒŸ Star è¿™ä¸ªé¡¹ç›®ï¼ï¼ˆç‚¹å³ä¸Šè§’çš„æ˜Ÿæ˜Ÿï¼Œæ„Ÿè°¢æ”¯æŒï¼ï¼‰
- ğŸ› æäº¤ Issue æŠ¥å‘Šé—®é¢˜
- ğŸ’¡ æå‡ºæ–°åŠŸèƒ½å»ºè®®
- ğŸ”§ æäº¤ Pull Request æ”¹è¿›ä»£ç 

## ğŸ“Œ æ³¨æ„äº‹é¡¹

- æƒ³ç¬¬ä¸€æ—¶é—´å¾—åˆ°åé¦ˆçš„å¯ä»¥æ¥ä½œè€…çš„æ’ä»¶åé¦ˆç¾¤ï¼ˆQQç¾¤ï¼‰ï¼š460973561ï¼ˆä¸ç‚¹starä¸ç»™è¿›ï¼‰

## â¤ï¸ Contributors

<a href="https://github.com/Zhalslar/astrbot_plugin_music/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=Zhalslar/astrbot_plugin_music" />
</a>
